<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0083)https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/standalone.md -->
<html class="doc-page"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Introduction</title><link rel="stylesheet" type="text/css" href="./GNStandalone_files/doc.0L3SNFV84koi7_B276HAQw.cache.css"><link rel="stylesheet" type="text/css" href="./GNStandalone_files/prettify.pZ5FqzM6cPxAflH0va2Ucw.cache.css"></head><body><div class="doc"><h1><a class="h" name="Introduction" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/standalone.md#Introduction"><span></span></a>Introduction</h1><p>This page is about how to design a project that can build independently with GN but also be brought into the Chrome build.</p><p>GN is in principle no different than GYP in that there is some core configuration that must be the same between both the standalone build and the Chrome build. However, GN is much more explicit in its naming and configuration, so the similarities between the two builds are also much more explicit and there is less flexibility in how things are configured.</p><h1><a class="h" name="What-you-need-for-a-minimal-GN-build" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/standalone.md#What-you-need-for-a-minimal-GN-build"><span></span></a>What you need for a minimal GN build</h1><p>Requirements:</p><ul><li>A master build config file. Chrome’s is <code>//build/config/BUILDCONFIG.gn</code></li><li>A separate build file for the toolchain definition. It’s not a good idea to put these in a BUILD.gn file shared with any target definitions for complex reasons. Chrome’s are in <code>//build/toolchain/&lt;platform&gt;/BUILD.gn</code>.</li><li>A <code>BUILD.gn</code> file in the root directory. This will be loaded after the build config file to start the build.</li></ul><p>You may want a <code>.gn</code> file in the root directory. When you run GN it recursively looks up the directory tree until it finds this file, and it treats the containing directory as the “source root”. This file also defines the location of the master build config file:</p><ul><li>See Chrome’s <code>src/.gn</code> file.</li><li>Unlike Chrome, you probably don’t need to define a secondary root.</li><li>see <code>gn help dotfile</code> for more.</li></ul><p>Adding a <code>.gn</code> file in a repository that is pulled into Chrome means that then running GN in your subdirectory will configure a build for your subproject rather than for all of Chrome. This could be an advantage or a disadvantage.</p><p>If you would rather avoid using this file, you can use the command-line flags <code>--root</code> and <code>--dotfile</code> to set these values.</p><h1><a class="h" name="How-the-standalone-and-Chrome-builds-interact" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/standalone.md#How-the-standalone-and-Chrome-builds-interact"><span></span></a>How the standalone and Chrome builds interact</h1></div><div class="footer-break"></div><div class="footer-line"><div class="nav-aux"><ul><li><a href="https://chromium.googlesource.com/chromium/src/+show/master/tools/gn/docs/standalone.md">source</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+log/master/tools/gn/docs/standalone.md">log</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+blame/master/tools/gn/docs/standalone.md">blame</a></li></ul><div class="gitiles-att">Powered by <a href="https://code.google.com/p/gitiles/">Gitiles</a></div></div></div><script async="" src="./GNStandalone_files/analytics.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-55762617-15', 'auto'); ga('send', 'pageview', {title: 'Introduction'});</script></body></html>