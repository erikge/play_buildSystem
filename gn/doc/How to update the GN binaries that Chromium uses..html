<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0088)https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/update_binaries.md -->
<html class="doc-page"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>How to update the GN binaries that Chromium uses.</title><link rel="stylesheet" type="text/css" href="./How to update the GN binaries that Chromium uses._files/doc.0L3SNFV84koi7_B276HAQw.cache.css"><link rel="stylesheet" type="text/css" href="./How to update the GN binaries that Chromium uses._files/prettify.pZ5FqzM6cPxAflH0va2Ucw.cache.css"></head><body><div class="doc"><h1><a class="h" name="How-to-update-the-GN-binaries-that-Chromium-uses" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/update_binaries.md#How-to-update-the-GN-binaries-that-Chromium-uses"><span></span></a>How to update the <a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/gn.md">GN binaries</a> that Chromium uses.</h1><h2><a class="h" name="Prerequisites" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/update_binaries.md#Prerequisites"><span></span></a>Prerequisites</h2><p>You’ll need a checkout of Chromium, and commit access to the <code>buildtools/</code> repo. Check with scottmg, thakis, brettw, dpranke, or a member of chrome-infra to get access to that repo.</p><h2><a class="h" name="Instructions" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/update_binaries.md#Instructions"><span></span></a>Instructions</h2><p><em>Hopefully there will be a script that does this all for you shortly.</em></p><ol><li>cd to your Chromium checkout.</li><li>Create a whitespace change in DEPS and upload it to create a “dummy” CL</li><li>Run the following commands:<ol><li>git-cl try -b linux_chromium_gn_upload_x86  -b linux_chromium_gn_upload_x64  -r $GIT_REVISION_YOU_WANT_TO_BUILD</li><li>git-cl try -b mac_chromium_gn_upload  -r $GIT_REVISION_YOU_WANT_TO_BUILD</li><li>git-cl try -b win8_chromium_gn_upload  -r $GIT_REVISION_YOU_WANT_TO_BUILD</li></ol></li><li>Wait for the try jobs to finish.</li><li>If they all ran successfully, copy the digests from the tryjob build  log output into <code>src/buildtools/{mac,linux32,linux64}gn.sha1</code> and  <code>src/buildtools/win/gn.exe.sha1</code> as appropriate.</li><li>Upload a buildtools CL with the updated digests and get it reviewed  and committed. Make sure you note the revision of GN that you built  against in the commit message.</li><li>Go back to your “dummy” CL w/ the change to the DEPS file in src/  and update the buildtools revision to your newly-committed  buildtools change.</li><li>Get that reviewed and landed in Chromium. Make sure you note the  revision of GN that you built against in the commit message, along  with the revision of buildtools that you’re rolling to.</li></ol></div><div class="footer-break"></div><div class="footer-line"><div class="nav-aux"><ul><li><a href="https://chromium.googlesource.com/chromium/src/+show/master/tools/gn/docs/update_binaries.md">source</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+log/master/tools/gn/docs/update_binaries.md">log</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+blame/master/tools/gn/docs/update_binaries.md">blame</a></li></ul><div class="gitiles-att">Powered by <a href="https://code.google.com/p/gitiles/">Gitiles</a></div></div></div><script async="" src="./How to update the GN binaries that Chromium uses._files/analytics.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-55762617-15', 'auto'); ga('send', 'pageview', {title: 'How to update the GN binaries that Chromium uses.'});</script></body></html>