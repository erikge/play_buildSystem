<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0076)https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md -->
<html class="doc-page"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>GN Frequently Asked Questions</title><link rel="stylesheet" type="text/css" href="./GN Frequently Asked Questions_files/doc.0L3SNFV84koi7_B276HAQw.cache.css"><link rel="stylesheet" type="text/css" href="./GN Frequently Asked Questions_files/prettify.pZ5FqzM6cPxAflH0va2Ucw.cache.css"></head><body><div class="doc"><h1><a class="h" name="GN-Frequently-Asked-Questions" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#GN-Frequently-Asked-Questions"><span></span></a>GN Frequently Asked Questions</h1><div class="toc" role="navigation"><h2>Contents</h2><div class="toc-aux"><ul><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#How-will-the-build-be-converted">How will the build be converted?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#What-is-unsupported-in-GN">What is unsupported in GN?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Where-is-the-GN-documentation">Where is the GN documentation?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#What-is-likely-to-break">What is likely to break?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Will-XCode_Visual-Studio-still-be-supported">Will XCode/Visual Studio still be supported?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Im-weird_Will-my-uncommon-build-mode-be-supported">Im weird. Will my uncommon build mode be supported?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Im-only-a-little-bit-weird_will-my-development-build-flag-be-supported">Im only a little bit weird, will my development build flag be supported?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#I-use-supplement_gypi_whats-the-GN-equivalent">I use supplement.gypi, whats the GN equivalent?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#How-do-I-generate-common-build-variants">How do I generate common build variants?</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#How-do-I-do-cross_compiles">How do I do cross-compiles?</a></li></ul></div></div><h2><a class="h" name="How-will-the-build-be-converted" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#How-will-the-build-be-converted"><span></span></a>How will the build be converted?</h2><p>We intend to build a second independent build in parallel to the GYP build. Previous efforts to generate GYP as an intermediate stage proved difficult. There will be some smaller set of bots compiling this build, and we’ll keep the GN build running on these configurations.</p><h2><a class="h" name="What-is-unsupported-in-GN" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#What-is-unsupported-in-GN"><span></span></a>What is unsupported in GN?</h2><p>The main features not supported in GN yet are:  * Mac bundles  * Loadable module (this only matters on Mac where shared library !=  lodable module)  * Precompiled headers</p><h2><a class="h" name="Where-is-the-GN-documentation" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Where-is-the-GN-documentation"><span></span></a>Where is the GN documentation?</h2><p>Rather than on a separate wiki, it is versioned with the tool. Run <code>gn
help</code>. See also the <a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/quick_start.md">quick start</a> guide and the <a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/language.md">language and operation details</a>.</p><h2><a class="h" name="What-is-likely-to-break" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#What-is-likely-to-break"><span></span></a>What is likely to break?</h2><p>Since common.gypi is not used for GN-generated GYP files, any rules there will no longer apply. There is a <em>lot</em> of logic in there for many build configurations and various conditions where certain flags should or should not be used. Some of these build configurations aren’t even supported any more. Some are run on other waterfalls or are used by individuals manually setting GYP_DEFINES on their local system.</p><h2><a class="h" name="Will-XCode_Visual-Studio-still-be-supported" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Will-XCode_Visual-Studio-still-be-supported"><span></span></a>Will XCode/Visual Studio still be supported?</h2><p>They’re not supported now.</p><p>Long-term, if your use-case is to use Ninja for building but Visual Studio or XCode for debugging, there is desire to write a simple wrapper around Ninja that lists the files in Visual Studio or XCode format, and has a command to run ninja for when you press build. This setup should provide the type of interactive debugging experience people want (the iOS team currently uses a Ninja/XCode build like this with success).</p><p>This project is not staffed. If you’re interested, it probably isn’t too hard. It won’t get done unless somebody volunteers. There is a <a href="https://docs.google.com/document/d/1kwREU99u8GpRammLbbKwrfaDI6WV7nsMAaoF5dcuhOU/edit?usp=sharing">spec for IDE integration</a>.</p><h2><a class="h" name="Im-weird_Will-my-uncommon-build-mode-be-supported" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Im-weird_Will-my-uncommon-build-mode-be-supported"><span></span></a>I’m weird. Will my uncommon build mode be supported?</h2><p>One of the main benefits of the build changeover is that it will encourage us to refactor the build system. The project has generally not been as strict with build complexity and maintenance as we have with source code, and a lot of cruft has accumulated.</p><p>In most cases, we will want to rethink how build flags are supported. We want to be more modular rather than throwing everything in the common.gypi equivalent. The bar for additions at this level will be very high, and we will need to figure out how to design certain build features. If you are interested in some weird configurations, this will likely make your life more difficult in the short term, but will hopefully bring long-term benefits for everybody.</p><p>In some cases, we may decide that the overhead of supporting your build for BeOS running on a DEC Alpha is not in the interests of the project. There will likely be discussions about where to draw the line, and how to allow those who want to do weird things to do them cleanly without negatively affecting the rest of the Chromium community.</p><h2><a class="h" name="Im-only-a-little-bit-weird_will-my-development-build-flag-be-supported" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#Im-only-a-little-bit-weird_will-my-development-build-flag-be-supported"><span></span></a>I’m only a little bit weird, will my development build flag be supported?</h2><p>Only if you do it yourself!</p><p>Some features have build flags that turn on a debugging mode or switch between internal/external builds. This can be supported, but as with GYP, your team will have to add an maintain the support.</p><h2><a class="h" name="I-use-supplement_gypi_whats-the-GN-equivalent" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#I-use-supplement_gypi_whats-the-GN-equivalent"><span></span></a>I use supplement.gypi, what’s the GN equivalent?</h2><p>Some projects use files called <code>supplement.gypi</code> to set build flags. GYP looks in each directory under <code>src</code> and adds merges these files into the build. The model is that then adding something to your gclient to add something to your build (e.g <code>src-internal</code>) automatically sets flags.</p><p>This behavior is fragile and mysterious. Some people get build flags and they don’t know why. If you remove the entry from your <code>.gclient</code> and don’t remove the directory you’ll be stuck on an old version of the flags/code and not know why. You can’t have builds in the same checkout with the corresponding flags on and off. Some people and projects were abusing this behavior.</p><p>In GN, such things should be done with build arguments (<code>gn args</code>) and configured on your build directory when you set it up. For some people, this will be an extra step. But it is explicit and clear, and you can have multiple builds in the same checkout with different flags.</p><h2><a class="h" name="How-do-I-generate-common-build-variants" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#How-do-I-generate-common-build-variants"><span></span></a>How do I generate common build variants?</h2><p>In GN, args go with a build directory rather than being global in the environment. To edit the args for your <code>out/Default</code> build directory:</p><pre class="code">gn args out/Default
</pre><p>You can set variables in that file:</p><ul><li>The default is a debug build. To do a release build add <code>is_debug = false</code></li><li>The default is a static build. To do a component build add <code>is_component_build = true</code></li><li>The default is a developer build. To do an official build, set <code>is_official_build = true</code></li><li>The default is Chromium branding. To do Chrome branding, set <code>is_chrome_branded = true</code></li></ul><h2><a class="h" name="How-do-I-do-cross_compiles" href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/faq.md#How-do-I-do-cross_compiles"><span></span></a>How do I do cross-compiles?</h2><p>GN has robust support for doing cross compiles and building things for multiple architectures in a single build.</p><p>See <a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/cross_compiles.md">GNCrossCompiles</a> for more info.</p></div><div class="footer-break"></div><div class="footer-line"><div class="nav-aux"><ul><li><a href="https://chromium.googlesource.com/chromium/src/+show/master/tools/gn/docs/faq.md">source</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+log/master/tools/gn/docs/faq.md">log</a></li><li><a href="https://chromium.googlesource.com/chromium/src/+blame/master/tools/gn/docs/faq.md">blame</a></li></ul><div class="gitiles-att">Powered by <a href="https://code.google.com/p/gitiles/">Gitiles</a></div></div></div><script async="" src="./GN Frequently Asked Questions_files/analytics.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-55762617-15', 'auto'); ga('send', 'pageview', {title: 'GN Frequently Asked Questions'});</script></body></html>